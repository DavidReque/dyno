"use strict";(self.webpackChunkdyno=self.webpackChunkdyno||[]).push([[905],{"./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>AnimatePresence});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),LayoutGroupContext=__webpack_require__("./node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs"),use_constant=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-constant.mjs"),PresenceContext=__webpack_require__("./node_modules/framer-motion/dist/es/context/PresenceContext.mjs"),MotionConfigContext=__webpack_require__("./node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs");class PopChildMeasure extends react.Component{getSnapshotBeforeUpdate(prevProps){const element=this.props.childRef.current;if(element&&prevProps.isPresent&&!this.props.isPresent){const parent=element.offsetParent,parentWidth=parent instanceof HTMLElement&&parent.offsetWidth||0,size=this.props.sizeRef.current;size.height=element.offsetHeight||0,size.width=element.offsetWidth||0,size.top=element.offsetTop,size.left=element.offsetLeft,size.right=parentWidth-size.width-size.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children,isPresent,anchorX}){const id=(0,react.useId)(),ref=(0,react.useRef)(null),size=(0,react.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce}=(0,react.useContext)(MotionConfigContext.Q);return(0,react.useInsertionEffect)((()=>{const{width,height,top,left,right}=size.current;if(isPresent||!ref.current||!width||!height)return;const x="left"===anchorX?`left: ${left}`:`right: ${right}`;ref.current.dataset.motionPopId=id;const style=document.createElement("style");return nonce&&(style.nonce=nonce),document.head.appendChild(style),style.sheet&&style.sheet.insertRule(`\n          [data-motion-pop-id="${id}"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            ${x}px !important;\n            top: ${top}px !important;\n          }\n        `),()=>{document.head.removeChild(style)}}),[isPresent]),(0,jsx_runtime.jsx)(PopChildMeasure,{isPresent,childRef:ref,sizeRef:size,children:react.cloneElement(children,{ref})})}const PresenceChild=({children,initial,isPresent,onExitComplete,custom,presenceAffectsLayout,mode,anchorX})=>{const presenceChildren=(0,use_constant.M)(newChildrenMap),id=(0,react.useId)(),memoizedOnExitComplete=(0,react.useCallback)((childId=>{presenceChildren.set(childId,!0);for(const isComplete of presenceChildren.values())if(!isComplete)return;onExitComplete&&onExitComplete()}),[presenceChildren,onExitComplete]),context=(0,react.useMemo)((()=>({id,initial,isPresent,custom,onExitComplete:memoizedOnExitComplete,register:childId=>(presenceChildren.set(childId,!1),()=>presenceChildren.delete(childId))})),presenceAffectsLayout?[Math.random(),memoizedOnExitComplete]:[isPresent,memoizedOnExitComplete]);return(0,react.useMemo)((()=>{presenceChildren.forEach(((_,key)=>presenceChildren.set(key,!1)))}),[isPresent]),react.useEffect((()=>{!isPresent&&!presenceChildren.size&&onExitComplete&&onExitComplete()}),[isPresent]),"popLayout"===mode&&(children=(0,jsx_runtime.jsx)(PopChild,{isPresent,anchorX,children})),(0,jsx_runtime.jsx)(PresenceContext.t.Provider,{value:context,children})};function newChildrenMap(){return new Map}var use_presence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs");const getChildKey=child=>child.key||"";function onlyElements(children){const filtered=[];return react.Children.forEach(children,(child=>{(0,react.isValidElement)(child)&&filtered.push(child)})),filtered}var use_isomorphic_effect=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs");const AnimatePresence=({children,custom,initial=!0,onExitComplete,presenceAffectsLayout=!0,mode="sync",propagate=!1,anchorX="left"})=>{const[isParentPresent,safeToRemove]=(0,use_presence.xQ)(propagate),presentChildren=(0,react.useMemo)((()=>onlyElements(children)),[children]),presentKeys=propagate&&!isParentPresent?[]:presentChildren.map(getChildKey),isInitialRender=(0,react.useRef)(!0),pendingPresentChildren=(0,react.useRef)(presentChildren),exitComplete=(0,use_constant.M)((()=>new Map)),[diffedChildren,setDiffedChildren]=(0,react.useState)(presentChildren),[renderedChildren,setRenderedChildren]=(0,react.useState)(presentChildren);(0,use_isomorphic_effect.E)((()=>{isInitialRender.current=!1,pendingPresentChildren.current=presentChildren;for(let i=0;i<renderedChildren.length;i++){const key=getChildKey(renderedChildren[i]);presentKeys.includes(key)?exitComplete.delete(key):!0!==exitComplete.get(key)&&exitComplete.set(key,!1)}}),[renderedChildren,presentKeys.length,presentKeys.join("-")]);const exitingChildren=[];if(presentChildren!==diffedChildren){let nextChildren=[...presentChildren];for(let i=0;i<renderedChildren.length;i++){const child=renderedChildren[i],key=getChildKey(child);presentKeys.includes(key)||(nextChildren.splice(i,0,child),exitingChildren.push(child))}return"wait"===mode&&exitingChildren.length&&(nextChildren=exitingChildren),setRenderedChildren(onlyElements(nextChildren)),setDiffedChildren(presentChildren),null}const{forceRender}=(0,react.useContext)(LayoutGroupContext.L);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:renderedChildren.map((child=>{const key=getChildKey(child),isPresent=!(propagate&&!isParentPresent)&&(presentChildren===renderedChildren||presentKeys.includes(key));return(0,jsx_runtime.jsx)(PresenceChild,{isPresent,initial:!(isInitialRender.current&&!initial)&&void 0,custom,presenceAffectsLayout,mode,onExitComplete:isPresent?void 0:()=>{if(!exitComplete.has(key))return;exitComplete.set(key,!0);let isEveryExitComplete=!0;exitComplete.forEach((isExitComplete=>{isExitComplete||(isEveryExitComplete=!1)})),isEveryExitComplete&&(null==forceRender||forceRender(),setRenderedChildren(pendingPresentChildren.current),propagate&&(null==safeToRemove||safeToRemove()),onExitComplete&&onExitComplete())},anchorX,children:child},key)}))})}},"./packages/lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function cn(...classes){return classes.filter(Boolean).join(" ")}__webpack_require__.d(__webpack_exports__,{cn:()=>cn})},"./stories/components/Calendar/Calendar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Calendar_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),utils=__webpack_require__("./packages/lib/utils.ts"),AnimatePresence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),proxy=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs");const Calendar=({className,onDateSelect})=>{const[currentDate,setCurrentDate]=(0,react.useState)(new Date),year=currentDate.getFullYear(),month=currentDate.getMonth(),daysInMonth=new Date(year,month+1,0).getDate(),firstDay=new Date(year,month,1).getDay(),blanks=Array.from({length:firstDay},((_,i)=>i)),days=Array.from({length:daysInMonth},((_,i)=>i+1)),buttonStyles={color:"var(--color-text)",cursor:"pointer",background:"transparent",border:"none"},dayHeaderStyles={color:"var(--color-placeholder)",fontWeight:600},dayButtonStyles={display:"flex",alignItems:"center",justifyContent:"center",height:"2rem",width:"100%",borderRadius:"0.25rem",background:"transparent",border:"none",color:"var(--color-text)",cursor:"pointer",transition:"background-color 0.2s"},dayButtonHoverStyles={backgroundColor:"var(--color-hover)"};return(0,jsx_runtime.jsxs)("div",{className:(0,utils.cn)("w-full max-w-md rounded-lg p-4",className),style:{background:"var(--color-background)",color:"var(--color-text)",border:"1px solid var(--color-border)",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,jsx_runtime.jsx)("button",{onClick:()=>{setCurrentDate(new Date(year,month-1,1))},style:buttonStyles,className:"focus:outline-none",children:"<"}),(0,jsx_runtime.jsxs)("h3",{className:"text-lg font-medium",style:{color:"var(--color-text)"},children:[["January","February","March","April","May","June","July","August","September","October","November","December"][month]," ",year]}),(0,jsx_runtime.jsx)("button",{onClick:()=>{setCurrentDate(new Date(year,month+1,1))},style:buttonStyles,className:"focus:outline-none",children:">"})]}),(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((day=>(0,jsx_runtime.jsx)("div",{style:dayHeaderStyles,children:day},day)))}),(0,jsx_runtime.jsx)("div",{className:"relative min-h-[150px]","data-testid":"calendar-grid-container",children:(0,jsx_runtime.jsx)(AnimatePresence.N,{mode:"wait",children:(0,jsx_runtime.jsxs)(proxy.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeInOut"},className:"grid grid-cols-7 gap-1 mt-1",children:[blanks.map(((_,i)=>(0,jsx_runtime.jsx)("div",{className:"h-8"},`blank-${i}`))),days.map((day=>(0,jsx_runtime.jsx)("button",{onClick:()=>(day=>{const selected=new Date(year,month,day);onDateSelect&&onDateSelect(selected)})(day),style:dayButtonStyles,className:"hover-effect",onMouseOver:e=>{Object.assign(e.currentTarget.style,dayButtonHoverStyles)},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent"},children:day},day)))]},`${year}-${month}`)})})]})};Calendar.__docgenInfo={description:"",methods:[],displayName:"Calendar",props:{className:{required:!1,tsType:{name:"string"},description:"Clases adicionales para el contenedor"},onDateSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:"Callback que recibe la fecha seleccionada"}}};const Calendar_stories={title:"General/Calendar",component:Calendar,parameters:{layout:"centered"},tags:["autodocs"]},Default=(args=>{const[selectedDate,setSelectedDate]=(0,react.useState)(null);return(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)(Calendar,{...args,onDateSelect:date=>setSelectedDate(date)}),selectedDate&&(0,jsx_runtime.jsxs)("div",{className:"text-gray-800",children:["Selected Date: ",selectedDate.toLocaleDateString()]})]})}).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'args => {\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null);\n  return <div className="space-y-4">\r\n      <Calendar {...args} onDateSelect={date => setSelectedDate(date)} />\r\n      {selectedDate && <div className="text-gray-800">\r\n          Selected Date: {selectedDate.toLocaleDateString()}\r\n        </div>}\r\n    </div>;\n}',...Default.parameters?.docs?.source}}}}}]);